<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sistem Pendaftaran</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #f0f0f0;
    padding: 20px;
  }
  .form-container {
    max-width: 400px;
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    margin: 0 auto;
  }
  .image-container {
    text-align: center; /* Center the images container */
  }
  .image-container img {
  display: inline-block;
  margin: 0 10px 0px 0;
  height: auto;
  vertical-align: middle;
}

.logo {
  max-width: 20%; /* Adjust size for PUSPANITA logo */
}

.madani {
  max-width: 40%; /* Adjust size for Merdeka logo */
}

  h2 {
    text-align: center;
    color: #333;
  }
  label {
    display: block;
    margin-bottom: 8px;
    color: #555;
  }
  input[type="text"],
  input[type="number"],
  select {
    width: 100%;
    padding: 8px;
    margin-bottom: 15px;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
    font-size: 14px;
  }
  input[type="submit"] {
    background-color: #4CAF50;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
  }
  input[type="submit"]:hover {
    background-color: #45a049;
  }
  input[type="reset"] {
    background-color: #FF033E;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
  }
  input[type="reset"]:hover {
    background-color: #d80031;
  }
</style>
</head>
<body>
  <div class="form-container">
    <div class="image-container">
      <img class="logo" src="logo_puspanita.png" alt="Logo PUSPANITA">
      <img class="madani" src="C:\Users\user\Desktop\QAYYIM\2024\JUN 2024\Sistem Pendaftaran PUSPANITA\Sistem e-Pendaftaran PUSPANITA qayyim\LOGO-MALAYSIA-MADANI-JIWA-MERDEKA-2-960x678-removebg-preview.png" alt="Logo Merdeka Madani">
    </div>
    <h2>Pendaftaran Program Merdeka Madani PUSPANITA 2024</h2>
    <h3>Sila isi maklumat dengan betul</h3>
    <form id="myForm" action="https://script.google.com/macros/s/AKfycbw_i3O-Cc9OEa95KPpYA1zsngfII8AKcI-VwWT1brTRJqf62Fs3fgWspDGRbLv5U45k/exec" method="post" onsubmit="submitForm(event)">
      <label for="nama_penuh">Nama Penuh:</label>
      <input type="text" id="nama_penuh" name="nama_penuh" oninput="this.value = this.value.toUpperCase()" required>

      <label for="no_kad_pengenalan">Nombor Kad Pengenalan (tanpa -) :</label>
      <input type="text" id="no_kad_pengenalan" name="no_kad_pengenalan" pattern="[0-9]*" title="Please enter number only" minlength="12" maxlength="12" required>

      <label for="no_telefon">Nombor Telefon Bimbit:</label>
      <input type="text" id="no_telefon" name="no_telefon" pattern="[0-9]*" title="Please enter number only" maxlength="11" required>

      <label for="cawangan">Cawangan:</label>
      <select id="cawangan" name="cawangan" onchange="toggleOptions(this.value)" required>
        <option value="" selected disabled>Pilih Cawangan</option>
        <option value="kementerian">Kementerian</option>
        <option value="negeri">Negeri</option>
      </select>

      <div id="optionsKementerian" style="display:none;">
        <label for="option_kementerian">Pilihan Kementerian:</label>
        <select id="option_kementerian" name="option_kementerian">
          <option value="" selected disabled>Pilih Kementerian</option>
          <option value="JABATAN PERDANA MENTERI (JPM)">JABATAN PERDANA MENTERI (JPM)</option>
          <option value="KEMENTERIAN KEWANGAN (MOF)">KEMENTERIAN KEWANGAN (MOF)</option>
          <option value="KEMENTERIAN KESIHATAN (KKM)">KEMENTERIAN KESIHATAN (KKM)</option>
          <option value="KEMENTERIAN PERTANIAN DAN KETERJAMINAN MAKANAN (KPKM)">KEMENTERIAN PERTANIAN DAN KETERJAMINAN MAKANAN (KPKM)</option>
          <option value="KEMENTERIAN SAINS, TEKNOLOGI DAN INOVASI (MOSTI)">KEMENTERIAN SAINS, TEKNOLOGI DAN INOVASI (MOSTI)</option>
          <option value="KEMENTERIAN KERJA RAYA (KKR)">KEMENTERIAN KERJA RAYA (KKR)</option>
          <option value="KEMENTERIAN PERTAHANAN (MINDEF)">KEMENTERIAN PERTAHANAN (MINDEF)</option>
          <option value="KEMENTERIAN PEMBANGUNAN USAHAWAN DAN KOPERASI (KUSKOP)">KEMENTERIAN PEMBANGUNAN USAHAWAN DAN KOPERASI (KUSKOP)</option>
          <option value="KEMENTERIAN PERPADUAN NEGARA (KPN)">KEMENTERIAN PERPADUAN NEGARA (KPN)</option>
          <option value="KEMENTERIAN KEMAJUAN DESA DAN WILAYAH (KKDW)">KEMENTERIAN KEMAJUAN DESA DAN WILAYAH (KKDW)</option>
          <option value="KEMENTERIAN LUAR NEGERI (KLN)">KEMENTERIAN LUAR NEGERI (KLN)</option>
          <option value="KEMENTERIAN PEMBANGUNAN WANITA, KELUARGA DAN MASYARAKAT (KPWKM)">KEMENTERIAN PEMBANGUNAN WANITA, KELUARGA DAN MASYARAKAT (KPWKM)</option>
          <option value="KEMENTERIAN DALAM NEGERI (KDN)">KEMENTERIAN DALAM NEGERI (KDN)</option>
          <option value="KEMENTERIAN EKONOMI (KE)">KEMENTERIAN EKONOMI (KE)</option>
          <option value="KEMENTERIAN PERUMAHAN DAN KERAJAAN TEMPATAN (KPKT)">KEMENTERIAN PERUMAHAN DAN KERAJAAN TEMPATAN (KPKT)</option>
          <option value="KEMENTERIAN PELABURAN, PERDAGANGAN DAN INDUSTRI (MITI)">KEMENTERIAN PELABURAN, PERDAGANGAN DAN INDUSTRI (MITI)</option>
          <option value="KEMENTERIAN PENGANGKUTAN (MOT)">KEMENTERIAN PENGANGKUTAN (MOT)</option>
          <option value="KEMENTERIAN PERDAGANGAN DALAM NEGERI DAN KOS SARA HIDUP (KPDN)">KEMENTERIAN PERDAGANGAN DALAM NEGERI DAN KOS SARA HIDUP (KPDN)</option>
          <option value="KEMENTERIAN PENDIDIKAN (KPM)">KEMENTERIAN PENDIDIKAN (KPM)</option>
          <option value="KEMENTERIAN BELIA DAN SUKAN (KBS)">KEMENTERIAN BELIA DAN SUKAN (KBS)</option>
          <option value="KEMENTERIAN KOMUNIKASI (KK)">KEMENTERIAN KOMUNIKASI (KK)</option>
          <option value="KEMENTERIAN PERLADANGAN DAN KOMODITI (KPK)">KEMENTERIAN PERLADANGAN DAN KOMODITI (KPK)</option>
          <option value="KEMENTERIAN PELANCONGAN, SENI DAN BUDAYA (MOTAC)">KEMENTERIAN PELANCONGAN, SENI DAN BUDAYA (MOTAC)</option>
          <option value="KEMENTERIAN SUMBER ASLI DAN KELESTARIAN ALAM (NRES)">KEMENTERIAN SUMBER ASLI DAN KELESTARIAN ALAM (NRES)</option>
          <option value="KEMENTERIAN PENDIDIKAN TINGGI (KPT)">KEMENTERIAN PENDIDIKAN TINGGI (KPT)</option>
          <option value="KEMENTERIAN SUMBER MANUSIA (KESUMA)">KEMENTERIAN SUMBER MANUSIA (KESUMA)</option>
          <option value="KEMENTERIAN DIGITAL (KD)">KEMENTERIAN DIGITAL (KD)</option>
          <option value="KEMENTERIAN PERALIHAN TENAGA DAN TRANSFORMASI (PETRA)">KEMENTERIAN PERALIHAN TENAGA DAN TRANSFORMASI (PETRA)</option>
        </select>
      </div>

      <div id="optionsNegeri" style="display:none;">
        <label for="option_negeri">Pilihan Negeri:</label>
        <select id="option_negeri" name="option_negeri">
          <option value="" selected disabled>Pilih Negeri</option>
          <option value="SABAH">SABAH</option>
          <option value="JOHOR">JOHOR</option>
          <option value="KELANTAN">KELANTAN</option>
          <option value="TERENGGANU">TERENGGANU</option>
          <option value="SELANGOR">SELANGOR</option>
          <option value="PULAU PINANG">PULAU PINANG</option>
          <option value="MELAKA">MELAKA</option>
          <option value="PERAK">PERAK</option>
          <option value="PAHANG">PAHANG</option>
          <option value="NEGERI SEMBILAN">NEGERI SEMBILAN</option>
          <option value="PERLIS">PERLIS</option>
          <option value="KEDAH">KEDAH</option>
        </select>
      </div>

      <input type="submit" value="Submit">
      <input type="reset" value="Reset" onclick="location.reload();">
    </form>

    <script>
      function toggleOptions(value) {
        var optionsKementerian = document.getElementById("optionsKementerian");
        var optionsNegeri = document.getElementById("optionsNegeri");

        if (value === "kementerian") {
          optionsKementerian.style.display = "block";
          optionsNegeri.style.display = "none";
          document.getElementById("option_kementerian").required = true;
          document.getElementById("option_negeri").required = false;
        } else if (value === "negeri") {
          optionsKementerian.style.display = "none";
          optionsNegeri.style.display = "block";
          document.getElementById("option_kementerian").required = false;
          document.getElementById("option_negeri").required = true;
        } else {
          optionsKementerian.style.display = "none";
          optionsNegeri.style.display = "none";
          document.getElementById("option_kementerian").required = false;
          document.getElementById("option_negeri").required = false;
        }
      }

      function submitForm(event) {
        event.preventDefault(); // Prevent the default form submission

        var form = document.getElementById("myForm");
        var formData = new FormData(form);

        // Check if either cawangan, option_kementerian, or option_negeri is selected
        var cawanganValue = formData.get("cawangan");
        var kementerianValue = formData.get("option_kementerian");
        var negeriValue = formData.get("option_negeri");
        var noKadPengenalan = formData.get("no_kad_pengenalan");

        if (noKadPengenalan.length < 12) {
          alert("Nombor Kad Pengenalan mesti mengandungi sekurang-kurangnya 12 digit.");
          return;
        }

        if (!cawanganValue || (cawanganValue === "kementerian" && !kementerianValue) || (cawanganValue === "negeri" && !negeriValue)) {
          alert("Sila pilih salah satu cawangan, kementerian, atau negeri.");
          return;
        }

        // Proceed with form submission
        fetch(form.action, {
          method: "POST",
          body: formData
        })
        .then(response => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return response.text();
        })
        .then(data => {
          alert(data); // Display success message

          // Redirect to details page with query parameters
          var queryString = createQueryString(formData);
          window.location.href = "details.html?" + queryString;

          form.reset(); // Reset the form after successful submission
        })
        .catch(error => {
          console.error('Error:', error);
          alert("Gagal menghantar borang. Sila cuba lagi kemudian.");
        });
      }

      function createQueryString(formData) {
        return new URLSearchParams(formData).toString();
      }
    </script>
  </div>
</body>
</html>
